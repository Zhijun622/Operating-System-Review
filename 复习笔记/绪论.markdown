# 操作系统绪论复习笔记

## 一、基本概念

### 1. 裸机(Bare Machine)

**定义**: 只有硬件部分,还未安装任何软件系统的计算机。

**特点**:

- 功能有限,仅能识别和执行机器指令
- 使用极不方便
- 需要用户直接面对硬件细节

### 2. 虚拟机(Virtual Machine, VM)

**定义**: 在已有计算机系统上覆盖了一层软件之后形成的计算机系统。

**特点**:

- 使用方便
- 功能更强大
- 屏蔽了底层硬件细节
- 为用户提供了扩展的、等价的计算机

**实现方式**: 操作系统在裸机基础上逐层扩充,每加一层就构成一个功能更强的虚拟机。

### 3. 操作系统(Operating System)

**定义**: 操作系统是:

1. **控制和管理**计算机系统的硬件和软件资源
2. **合理组织**计算机工作流程
3. **方便用户使用**的程序和数据的集合

**地位**:

- 处于软硬结合部位,是覆盖在裸机上的第一层软件
- 向上:为所有其他软件提供支撑环境
- 向下:统一管理和控制硬件,屏蔽底层细节

**目标**:

- **有效性**(系统管理人员观点):提高资源利用率
- **方便性**(用户观点):提供良好的用户接口
- **可扩充性**(开放观点):支持功能扩展和系统互操作

------

## 二、操作系统的四大特征

### 1. 并发性(Concurrency)

**定义**: 多个事件在**同一时间段内**发生。

**核心概念**:

- **宏观并行**: 多个进程都处于运行状态(已开始但未结束)
- **微观串行**: 在单处理器上,各进程交替使用CPU

**辨析**:

- **并发**(Concurrency): 同一时间段内
- **并行**(Parallel): 同一时刻

**技术基础**: 多道程序设计技术

### 2. 共享性(Sharing)

**定义**: 多个进程共享有限的系统资源。

**共享方式**:

- **互斥共享**: 资源在一个时间段内只能被一个进程使用(如音频设备、打印机)
- **同时访问**: 资源可以在同一时间段内被多个进程交替使用(如磁盘文件、可重入代码)

**与并发的关系**:

- 共享是并发的前提(没有资源共享就无法并发)
- 并发是共享的条件(没有并发需求就无需共享)

### 3. 虚拟性(Virtual)

**定义**: 将一个物理实体映射为若干个对应的逻辑实体(分时或分空间)。

**典型应用**:

- **虚拟处理机**: 每个进程独占一个"CPU"
- **虚拟存储器**: 每个进程拥有独立的地址空间
- **虚拟设备**: 多窗口、虚拟终端

**目的**: 提高资源利用率,简化用户使用

### 4. 异步性(Asynchronism)

**定义**: 进程的执行顺序、执行时间及执行结果的不确定性。

**表现**:

- 程序执行结果不可再现(相同输入可能产生不同输出)
- 进程推进速度不可预知("时走时停")
- 执行顺序和时间不确定

**产生原因**: 多道程序环境下,资源有限,进程按异步方式运行

------

## 三、多道程序设计技术(核心原理)

### 1. 基本思想

在计算机内存中**同时存放**几道相互独立的程序,它们在管理程序的控制下**相互穿插运行**,共享CPU和外设等资源。

### 2. 技术支持

#### (1) 中断技术

- **作用**: 在CPU和I/O设备之间建立通信机制
- **过程**: 中断请求 → 中断响应 → 保存现场 → 中断处理 → 恢复现场

#### (2) 通道技术(I/O处理机)

- **作用**: 专门控制I/O设备,与CPU并行工作
- **特点**: 具有独立的I/O指令,可与CPU同时工作

### 3. 实现条件

- **存储保护**: 各道程序之间不互相侵犯
- **处理机管理**: 解决CPU调度问题
- **资源管理**: 解决资源分配问题

### 4. 特征

- **多道性**: 同时存在两道或以上程序处于执行中
- **宏观并行**: 所有程序都在推进
- **微观串行**: 交替使用CPU和设备

### 5. 优缺点

**优点**:

- ✅ CPU利用率高
- ✅ 内存利用率高
- ✅ 设备利用率高
- ✅ 系统吞吐量大

**缺点**:

- ❌ 用户交互性差
- ❌ 作业平均周转时间长

### 6. 效率分析示例

**问题**: 三个作业在多道环境下的执行

- P₁: IO2(30ms), CPU(10ms), IO1(30ms), CPU(10ms)
- P₂: IO1(20ms), CPU(20ms), IO2(40ms)
- P₃: CPU(30ms), IO1(20ms)

**结果**:

- 单道运行时间: 210ms
- 多道运行时间: 100ms
- **效率提升**: 约52.4%

------

## 四、多道程序技术对OS特征的影响

| OS特征     | 与多道程序的关系                                        |
| ---------- | ------------------------------------------------------- |
| **并发性** | 多道程序设计是实现并发的基础,多个程序宏观并行、微观串行 |
| **共享性** | 多道程序共享CPU、内存、I/O设备等资源,需要OS进行资源管理 |
| **虚拟性** | 通过分时使用物理资源,为每个程序提供虚拟的处理机和存储器 |
| **异步性** | 多道程序竞争资源,执行速度不可预知,产生异步性            |

------

## 五、操作系统的分类

### 1. 批处理系统

- **单道批处理**: 作业顺序执行,自动性,但资源利用率低
- **多道批处理**: 多个作业并发执行,资源利用率高,标志着现代OS的产生

### 2. 分时系统

- **特点**: 同时性、独占性、及时性、交互性
- **响应时间**: T = n × q (n为用户数,q为时间片)

### 3. 实时系统

- **实时控制**: 过程控制、航天控制
- **实时信息处理**: 订票系统、股票交易

### 4. 通用操作系统

具有分时、实时和批处理功能,如UNIX、Windows NT

------

## 六、重点区分

### 并发 vs 并行

- **并发**: 时间段内,宏观同时,微观交替
- **并行**: 时间点上,真正同时

### 互斥共享 vs 同时访问

- **互斥共享**: 一次只能一个进程(打印机)
- **同时访问**: 交替使用,宏观同时(磁盘)

### 虚拟机 vs 裸机

- **裸机**: 纯硬件,功能有限
- **虚拟机**: 覆盖软件,功能扩展

------

# 配套习题

## 题目1

在操作系统中,**并发性**和**共享性**是两个最基本的特征。关于二者关系的描述,正确的是( )。

A. 并发性是共享性的前提,没有并发就不需要共享
B. 共享性是并发性的前提,没有资源共享就无法实现并发
C. 并发性和共享性互为条件,相互依存
D. 并发性和共享性相互独立,没有必然联系

**正确答案: C**

**解析**:

- 没有资源共享,多个进程无法同时推进(无法并发)
- 没有进程并发,就不存在资源竞争(无需共享)
- 因此二者互为条件,相互依存

------

## 题目2

下列关于操作系统**虚拟性**特征的描述中,**错误**的是( )。

A. 虚拟性是指将一个物理实体映射为多个逻辑实体
B. 虚拟处理机技术使每个进程感觉独占CPU
C. 虚拟存储器使每个进程拥有独立的地址空间
D. 虚拟性的实现不依赖于时分复用和空分复用技术

**正确答案: D**

**解析**:

- 虚拟性的实现**必须依赖**于分时(时分复用)或分空间(空分复用)
- 例如:虚拟处理机采用时分复用,虚拟存储器采用空分复用

------

## 题目3

多道程序设计技术的引入,主要解决了早期计算机系统中( )之间速度不匹配的矛盾。

A. 内存与外存
B. CPU与I/O设备
C. 操作系统与应用程序
D. 用户程序与系统程序

**正确答案: B**

**解析**:

- 单道程序时,CPU快速但需等待慢速I/O,利用率极低
- 多道程序通过让多个程序交替使用CPU和I/O设备,实现了CPU与I/O的并行工作
- 充分发挥了CPU与外设之间的并行工作能力